$(document).ready(function(){
var alpha_rec_li7_neg = [
    [-28799.91208428001,1.453937305632658e-19],
    [-21592.79811481792,1.688583983661812e-19],
    [-19156.0803167044,1.151798380550555e-19],
    [-18190.11293425345,2.010654428243451e-19],
    [-13289.77201572669,9.593614055827706e-20],
    [-12782.63951259407,5.541794764089638e-20],
    [-10458.85032917216,5.541794764089638e-20],
    [-10158.40965281025,4.10909499274127e-20],
    [-9867.039159777196,6.437642461779017e-20],
    [-9099.929279361975,1.502841572047225e-19],
    [-7350.34636087586,5.10102046236487e-20],
    [-7208.25724201212,7.989844150757298e-20],
    [-6778.66939562801,4.615898150322986e-20],
    [-6778.66939562801,5.682480263227829e-20],
    [-6292.614673796758,1.36019930564716e-20],
    [-5582.25290750835,3.255940006643681e-20],
    [-5404.346679161717,4.143102068898124e-20],
    [-5082.32245010165,2.130998874931041e-20],
    [-4552.80814060167,5.682480263227829e-20],
    [-4323.034885848049,1.161571938620937e-20],
    [-4267.331783616813,1.54096035549492e-20],
    [-3761.34187748204,1.633180008695292e-20],
    [-3725.141342918636,6.822761811616047e-21],
    [-3358.625167084255,6.278127371475741e-21],
    [-3272.739172386901,6.599229934474206e-21],
    [-3178.761964273533,5.228609256615232e-21],
    [-3037.902884159961,1.819604778892094e-20],
    [-2912.74647818758,1.928776035934598e-20],
    [-2792.746302204499,8.682041895225499e-21],
    [-2712.642831799129,7.112446937758811e-21],
    [-2518.080574176618,6.822761811616047e-21],
    [-2406.390730413564,9.356969790478314e-21],
    [-2314.77011544113,5.057885023285979e-21],
    [-2255.703001542508,3.228776589275214e-21],
    [-2127.874994266776,3.25587079123799e-21],
    [-2046.858552050981,1.960791754157731e-21],
    [-2033.764674419675,1.606307303712847e-21],
    [-1949.998772406167,1.674460992336192e-21],
    [-1912.537842744327,1.151848297390966e-21],
    [-1833.642400675929,2.239751520886149e-21],
    [-1810.116415886697,1.527929629186752e-21],
    [-1637.337506553806,1.774720855730131e-21],
    [-1519.900710957008,9.919286683831036e-22],
    [-1509.975916857229,1.0687948763852e-21],
    [-1500.31650982994,4.212748181600999e-22],
    [-1466.731114940282,1.731179035582782e-21],
    [-1401.67403505567,1.819357819743467e-21],
    [-1326.669831463352,8.399339285029578e-22],
    [-1223.58282928167,2.276929115509125e-22],
    [-1154.398178012946,1.42994257748697e-21],
    [-1154.398178012946,4.540760172472812e-22],
    [-1047.51812695291,3.310672803684526e-22],
    [-1017.517837942493,6.383799259708615e-22],
    [-962.9519788277444,3.908878304161463e-22],
    [-956.7812567179761,4.464990281675899e-22],
    [-938.3694101649251,4.654567656452688e-22],
    [-859.8417325411432,4.693492029850006e-22],
    [-793.0642907776946,9.753560075194585e-23],
    [-760.3575102228159,2.095830413069159e-22],
    [-731.3996059033956,1.880782402855672e-22],
    [-685.5460329499924,6.278758815140436e-23],
    [-638.4779540776196,2.334731853205818e-22],
    [-604.2588515325151,1.181098121853774e-22],
    [-602.2961675111181,5.97359149649431e-23],
    [-570.0670306069153,3.657780835346166e-22],
    [-544.8301818955839,9.594100434091037e-23],
    [-488.043953546,1.095904294437444e-22],
    [-448.6741535476779,9.356571970140953e-23],
    [-412.4848541343922,4.464895364044432e-23],
    [-382.8826254100468,5.542710172079675e-23],
    [-365.9201930611069,5.316502893679836e-23],
    [-360.0440528586193,6.437968838193869e-23],
    [-356.5510476304719,8.682915120636108e-23],
    [-340.7779347973412,5.730455169832534e-23],
    [-336.3869482239249,6.599893674103466e-23],
    [-317.3525852746508,8.540714887918787e-23],
    [-301.3362862848594,6.331265679500581e-23],
    [-300.3709067094605,8.540714887918787e-23],
    [-284.285255401479,7.352208409904617e-23],
    [-270.8144346292669,1.745469253755084e-22],
    [-269.0490420842961,7.990249220890445e-23],
    [-255.48193468882,2.850559057794634e-23],
    [-249.7517028159438,8.191216300180007e-23],
    [-246.5555814115534,4.355351561541488e-23],
    [-235.6274471280049,5.97359149649431e-23],
    [-231.0957186187519,6.174517704842275e-23],
    [-228.8613687851901,9.127013517269785e-23],
    [-227.3871946736829,2.666834988586773e-23],
    [-225.198736865755,3.597080157204738e-23],
    [-220.1379190576691,1.151856774571066e-22],
    [-216.6245487665893,2.601107857445185e-23],
    [-207.6884173312581,1.944837277709933e-23],
    [-207.0161342245352,1.104950563564774e-23],
    [-206.3437282551673,1.383035040646232e-23],
    [-205.6918395259464,1.151832288175814e-23],
    [-200.4252355096661,1.63330954928861e-23],
    [-200.4252355096661,7.794047069739318e-24],
    [-196.5683469516461,7.352052115228862e-24],
    [-195.308711298691,2.166713186966969e-23],
    [-190.9387477427007,3.627187860694921e-24],
    [-188.4784667442215,2.601107857445185e-23],
    [-184.8514761610732,3.56788745448199e-24],
    [-182.4696307802028,1.104950563564774e-23],
    [-181.8769539368037,1.528039575719453e-23],
    [-173.260667946,7.054424752592109e-24],
    [-170.4802558308091,1.326714728192624e-24],
    [-160.8336774415408,1.161606133968552e-24],
    [-159.804814704884,1.633228087644408e-24],
    [-157.2333287597535,2.113025295517212e-24],
    [-154.7101164382377,3.175423693971965e-24],
    [-149.7795097891594,2.413712241676817e-24],
    [-139.4882080541101,1.83471792966722e-24],
    [-139.4882080541101,2.113025295517212e-24],
    [-132.019718907632,1.515291559273785e-24],
    [-128.2258950612284,1.220773334160796e-24],
    [-125.7639812708316,1.294016359789399e-24],
    [-125.3554891885371,1.89664713732532e-24],
    [-123.7402605785684,1.272714961765643e-24],
    [-118.2675539898871,1.371496757395436e-24],
    [-114.8650838782888,7.923420314819944e-25],
    [-106.9739329323048,1.142320934982729e-24],
    [-105.6049665833197,9.75398277669341e-25],
    [-102.2382004367875,1.619497896290904e-24],
    [-98.03053014305598,1.849690397162006e-24],
    [-93.98450956526241,8.976387897251315e-25],
    [-91.88368675447526,4.428058699054179e-25],
    [-90.40514801637642,2.579998133693216e-24],
    [-86.40676586584155,1.283394919099844e-24],
    [-84.47250377265736,5.361501975677304e-25],
    [-81.77216755041597,4.392215422234276e-25],
    [-81.5101971738557,3.175356190197729e-25],
    [-78.65878443107955,1.142320934982729e-24],
    [-75.66393986511788,1.745208099884148e-25],
    [-75.66393986511788,1.077702842144909e-25],
    [-72.07620447997401,1.702487800193655e-25],
    [-67.78070552391127,1.251594324762633e-25],
    [-61.71046118397098,5.923503601682755e-26],
    [-59.93776799942437,1.745208099884148e-25],
    [-56.91216653546859,3.31077026610044e-26],
    [-56.91216653546859,1.161581440319523e-25],
    [-54.92186096754408,5.972824710287816e-25],
    [-50.00154629742751,1.261952582139237e-25],
    [-49.84135824928673,1.261952582139237e-25],
    [-47.63116797312022,2.558181057455105e-25]
];

var li7_thermal = [
    [-50.11872336272722,2.906541156881373e-27,3.147962904027268e-27,3.152671775554408e-27,3.154270222031342e-27],
    [-53.49126004338568,3.748647510350871e-27,4.064371399660042e-27,4.066487141380134e-27,4.067780249487945e-27],
    [-57.09073793282292,4.874810728998528e-27,5.290406365584156e-27,5.290214009871008e-27,5.291326426704275e-27],
    [-60.93242812135424,6.391989201353776e-27,6.934620275256255e-27,6.936916231688435e-27,6.938854406611872e-27],
    [-65.03262930552246,8.451769422277898e-27,9.161164621939469e-27,9.169752718017084e-27,9.175812789991975e-27],
    [-69.40873693670063,1.12709374772426e-26,1.221984051933089e-26,1.223215702055763e-26,1.223921538165196e-26],
    [-74.07931702277047,1.516254108500406e-26,1.644298564053646e-26,1.645719512016593e-26,1.64685658252327e-26],
    [-79.06418489598569,2.058337745188673e-26,2.232799708675806e-26,2.234528884535436e-26,2.236329827302369e-26],
    [-84.38448928120027,2.820757880389684e-26,3.060703368695402e-26,3.062907069470197e-26,3.065654368052955e-26],
    [-90.06280202112787,3.904234510632142e-26,4.235259924887611e-26,4.24000218625899e-26,4.24482040778009e-26],
    [-96.12321383929924,5.461293249085463e-26,5.925020847848932e-26,5.932253324477763e-26,5.940458756974243e-26],
    [-102.591436547001,7.726372478995982e-26,8.38548290135256e-26,8.396162010405965e-26,8.409441432417466e-26],
    [-109.4949121278158,1.10658064584488e-25,1.201063821347243e-25,1.202890977776598e-25,1.20524328180255e-25],
    [-116.8629291625666,1.60626699665811e-25,1.744103167414161e-25,1.746927944972506e-25,1.751014877384563e-25],
    [-124.7267470886045,2.36644079711557e-25,2.57010770666955e-25,2.575123899502583e-25,2.582476814325418e-25],
    [-133.1197288206244,3.54469275809405e-25,3.85100524120579e-25,3.860040891724093e-25,3.873557522592889e-25],
    [-142.077482295661,5.410186337411712e-25,5.88121347165448e-25,5.896998457524375e-25,5.922323799547994e-25],
    [-151.638011542782,8.436696994546674e-25,9.175627733756341e-25,9.205989060832772e-25,9.255451925918291e-25],
    [-161.8418779184061,1.348700818904534e-24,1.468041185814016e-24,1.47384462128588e-24,1.483744130036906e-24],
    [-172.7323721912989,2.219276050723216e-24,2.417968630162432e-24,2.429749292890344e-24,2.450373163485802e-24],
    [-184.3556982073309,3.776483557584513e-24,4.119684286337563e-24,4.144574180747887e-24,4.18924750627172e-24],
    [-196.7611689132152,6.675208150540322e-24,7.293110789894738e-24,7.347912468529986e-24,7.448200015435762e-24],
    [-210.0014155708654,1.226860566471881e-23,1.342827595251938e-23,1.35517722915954e-23,1.377953040576864e-23],
    [-224.1326110499917,2.316257257968687e-23,2.539032586637538e-23,2.565504899679022e-23,2.613557381295533e-23],
    [-239.2147081462639,4.271023456340312e-23,4.678449210973612e-23,4.721425817363569e-23,4.791355479864512e-23],
    [-255.3116939361345,6.828519519051477e-23,7.434806340092664e-23,7.452604710016827e-23,7.446430308666491e-23],
    [-272.4918612474395,8.370408421733634e-23,9.023099347577046e-23,8.951579188500307e-23,8.754533719526038e-23],
    [-290.8280983975126,8.171964082139546e-23,8.745197446799763e-23,8.61241348212981e-23,8.304708076062148e-23],
    [-310.3981984280573,7.316304797022491e-23,7.805279343706651e-23,7.66241143244608e-23,7.345244586436606e-23],
    [-331.2851891487234,6.574913869578221e-23,7.008237210053567e-23,6.872483810674183e-23,6.574216668290479e-23],
    [-353.5776853896364,6.116288148158148e-23,6.518918909052457e-23,6.390146426509422e-23,6.106798622298198e-23],
    [-377.3702649573293,5.918521031449714e-23,6.308985774041976e-23,6.182582713229982e-23,5.902788720167542e-23],
    [-402.7638698891116,5.939301694585454e-23,6.331866622060382e-23,6.202525292985368e-23,5.913995136406395e-23],
    [-429.8662347082276,6.151869403245754e-23,6.558566710303363e-23,6.420819952914558e-23,6.110876439551454e-23],
    [-458.792343496709,6.547662333515729e-23,6.979773967286012e-23,6.827621268703247e-23,6.482280099847095e-23],
    [-489.664917725098,7.133965795811059e-23,7.603021422482184e-23,7.429382608193518e-23,7.032001052880946e-23],
    [-522.6149369086996,7.932398367860409e-23,8.450924405902725e-23,8.24697550836064e-23,7.776571853305349e-23],
    [-557.7821942992857,8.979054009049677e-23,9.56141211694914e-23,9.315588287597893e-23,8.744616824357093e-23],
    [-595.3158899698244,1.032627892732994e-22,1.098938078226997e-22,1.068610904436712e-22,9.977489015756848e-23],
    [-635.375263808448,1.204610164451101e-22,1.281029104751736e-22,1.242816033056724e-22,1.15310563081535e-22],
    [-678.1302711071904,1.423553591718385e-22,1.512555257808838e-22,1.46346667179115e-22,1.347851429150023e-22],
    [-723.7623036117277,1.702422019533415e-22,1.80704287602062e-22,1.742843337062956e-22,1.591430467883982e-22],
    [-772.4649590912502,2.058514749154028e-22,2.182492440482974e-22,2.097114467374553e-22,1.895925684541294e-22],
    [-824.4448626934235,2.514962132579876e-22,2.662893269525477e-22,2.547553165984765e-22,2.276712355296014e-22],
    [-879.9225435691075,3.102810144749672e-22,3.280340026741625e-22,3.122180492061452e-22,2.753275397177966e-22],
    [-939.1333704859804,3.86393631337369e-22,4.077936828230172e-22,3.857958445499918e-22,3.350212556896806e-22],
    [-1002.328550400515,4.855150826835278e-22,5.113873585286699e-22,4.803725239123772e-22,4.098448183173362e-22],
    [-1069.776194224798,6.154002591684018e-22,6.467117354640534e-22,6.024099877613494e-22,5.0366783842456e-22],
    [-1141.762454309816,7.867059244283325e-22,8.245419778018734e-22,7.604656307811026e-22,6.213054644482188e-22],
    [-1218.592738471087,1.014180943196242e-21,1.059661233238183e-21,9.658732214536049e-22,7.687090673850076e-22],
    [-1300.593005707227,1.31839191152853e-21,1.372462188207186e-21,1.233631845110579e-21,9.531728826579002e-22],
    [-1388.111149108652,1.728248065659788e-21,1.791222620002192e-21,1.583555548089162e-21,1.183543025742079e-21],
    [-1481.518471823528,2.284732297254731e-21,2.355342248948638e-21,2.041741060737028e-21,1.470404586761823e-21],
    [-1581.211262342883,3.046473219982277e-21,3.119943309094724e-21,2.642415032493705e-21,1.82621520063679e-21],
    [-1687.612475788147,4.098162850112748e-21,4.162391067896355e-21,3.430214775252755e-21,2.265357140027274e-21],
    [-1801.173528334133,5.563432352495015e-21,5.591468461707133e-21,4.462905824134955e-21,2.804095793396116e-21],
    [-1922.376212380459,7.624816310102154e-21,7.560154707505543e-21,5.81441303982502e-21,3.460448122148686e-21],
    [-2051.734740596682,1.055517085743608e-20,1.028318578770288e-20,7.577762132324508e-21,4.253909671049225e-21],
    [-2189.797927513163,1.476793223365407e-20,1.406082144871061e-20,9.867165977802101e-21,5.204821306645358e-21],
    [-2337.151517913278,2.089897657249443e-20,1.931040403587015e-20,1.281839555205907e-20,6.332996833187283e-21],
    [-2494.420671905355,2.994264883842691e-20,2.660664831545872e-20,1.658730713109426e-20,7.655489943445183e-21],
    [-2662.272617217471,4.34828989926767e-20,3.672737586070589e-20,2.134730190085142e-20,9.184239109348884e-21],
    [-2841.419479967688,6.409592186980123e-20,5.068838407645124e-20,2.728342114431195e-20,1.092450517956649e-20],
    [-3032.621305919525,9.607135698345232e-20,6.973172454550835e-20,3.457013279791779e-20,1.287229261157706e-20],
    [-3236.689285040602,1.467448510455464e-19,9.52403791586051e-20,4.331710643237421e-20,1.500615079260409e-20],
    [-3454.489193044877,2.290464775173378e-19,1.286198271933526e-19,5.350648014317467e-20,1.727661419418868e-20],
    [-3686.945064519573,3.665600516906051e-19,1.710948700029466e-19,6.497068420939111e-20,1.960742771208787e-20],
    [-3935.043113220318,6.039626605951289e-19,2.228040675175797e-19,7.730051673342051e-20,2.189424466437685e-20],
    [-4199.835916166644,1.029325580897602e-18,2.810377048321515e-19,8.956500773204652e-20,2.397019352273307e-20],
    [-4482.446879289309,1.822506746418316e-18,3.398375046493864e-19,1.003589506442181e-19,2.561933794125535e-20],
    [-4784.075003575264,3.354920247150689e-18,3.892636017439189e-19,1.080139817380233e-19,2.662794545009574e-20],
    [-5105.999971931067,6.336671181659874e-18,4.153019337352491e-19,1.106878098210724e-19,2.679709895778924e-20],
    [-5449.587578346136,1.164664065275713e-17,4.101946201949664e-19,1.078896859737305e-19,2.613753884008825e-20],
    [-5816.295522389681,1.844058091344035e-17,3.810059155633138e-19,1.013941221039274e-19,2.496239867086081e-20],
    [-6207.679593624754,2.232972706121784e-17,3.452603497439577e-19,9.415689106979778e-20,2.370975663050022e-20],
    [-6625.400272177484,2.165412721943398e-17,3.143474689180584e-19,8.793180978504148e-20,2.262735639156307e-20],
    [-7071.229773464826,1.936418455541904e-17,2.906386682139151e-19,8.304792392478582e-20,2.175950612636984e-20],
    [-7547.059566968896,1.74223554811603e-17,2.730851978070398e-19,7.93113989882554e-20,2.107668895200921e-20],
    [-8054.908400956685,1.623537315046493e-17,2.602082029137984e-19,7.64641087207698e-20,2.053999564267357e-20],
    [-8596.930867190787,1.573729792934381e-17,2.508088309758574e-19,7.42935790814689e-20,2.011684179109712e-20],
    [-9175.426541967847,1.581657491670659e-17,2.44010238772039e-19,7.264046433142355e-20,1.978225977707264e-20],
    [-9792.849742266013,1.640423813055227e-17,2.391808098258673e-19,7.138695152880247e-20,1.951738483882167e-20],
    [-10451.81993839298,1.747954333863856e-17,2.358605693028918e-19,7.044515227655794e-20,1.930785534395404e-20],
    [-11155.13286731092,1.906366464745995e-17,2.337079980022885e-19,6.974844914838337e-20,1.914258653517201e-20],
    [-11905.77239378782,2.121585403466661e-17,2.324640399881313e-19,6.924546907314203e-20,1.901289617713273e-20],
    [-12706.9231696969,2.403402270818163e-17,2.319280565680843e-19,6.889594283093086e-20,1.891189038214717e-20],
    [-13561.98414517222,2.765966958452977e-17,2.31941677897997e-19,6.866784403218099e-20,1.883402961134414e-20],
    [-14474.58298894318,3.22872256282143e-17,2.323778412161441e-19,6.853538904482374e-20,1.877481836483902e-20],
    [-15448.59147902676,3.817842894707334e-17,2.331332642827601e-19,6.847762020635818e-20,1.873058025315419e-20],
    [-16488.14192907418,4.568299542183719e-17,2.341232193011461e-19,6.847738783358601e-20,1.869829246229945e-20],
    [-17597.64472006225,5.526763744402183e-17,2.352778672135341e-19,6.852060955392138e-20,1.867546244688872e-20],
    [-18781.80701170877,6.755650764308891e-17,2.365396504700095e-19,6.859572190855548e-20,1.866003434888856e-20],
    [-20045.65271299702,8.338758028395954e-17,2.378614051485504e-19,6.869326759764153e-20,1.865031699402583e-20],
    [-21394.54379653566,1.038915414754076e-16,2.392049428523948e-19,6.880557575451793e-20,1.864492713373676e-20],
    [-22834.20304718269,1.306027859881921e-16,2.405399254091822e-19,6.892650507673944e-20,1.864274338975462e-20],
    [-24370.73834144559,1.656166188991671e-16,2.418429068538262e-19,6.905122837087319e-20,1.864286767051921e-20],
    [-26010.66856066539,2.118135425268613e-16,2.430964625299902e-19,6.917604420776133e-20,1.864459184689584e-20],
    [-27760.95124792416,2.731818176906846e-16,2.442883558262482e-19,6.929820607535275e-20,1.864736807522067e-20],
    [-29629.01212601154,3.552853592922644e-16,2.454107302190557e-19,6.941576525908348e-20,1.86507820883854e-20],
    [-31622.77660168379,4.659487320072236e-16,2.464593321335671e-19,6.952742656162945e-20,1.865452916402279e-20]
];

    // Create a data-structure containing all the data from 'CsLirec' in a
    // format ready for plotting
    // data[0] will be an array of scattering length values in the first
    // columns and recombination rate for T = 0 K in the second column.
    var data = [];
    // Now append data-series for the finite temperature curves with
    // increasing temperature
    for(var j = 1; j < li7_thermal[0].length; ++j){
        var d = []
        for (var i = 0; i < li7_thermal.length; ++i) {
            var x = li7_thermal[i][0];
            var y = li7_thermal[i][j];
            d.push([x,y]);
        }
        data.push(d)
    }
    // Some boilerplate code to setup the logarithmic axes
    var ln10 = Math.log(10);
    // Make logarithmic axis
    function Log10(v) {return Math.log(v)/ln10;}
    // Modified logarithmic axis for negative data values
    // Also reverses the axis direction
    function Log10m(v) {return -Math.log(-v)/ln10;}
    // Fix the axis and set proper tick marks
    var options = {
        legend:{
            backgroundOpacity:0,
            margin:10,
        },
        xaxis: {
            min:-5e4,
            max:-2e1,
            transform: Log10m,
            ticks:function(v){return log10TickGenerator(v,1);},
            font:{size:25,color:"#555555"},
        },
        yaxis: {
            min:1e-26,
            max:1e-16,
            transform: Log10,
            ticks:function(v){return log10TickGenerator(v,2);},
            font:{size:25,color:"#555555"}
        }
    }

    // The T = 0 K curve is plotted in blue (i.e. cold) while the
    // 'hottest' curve is plotted in red
    var col1 = "#0000ff"; // Blue
    var col2 = "#ff0000"; // Red
    // A list of tempratures
    var temps = [["0.0 &mu;K"],["0.5 &mu;K"],["1.0 &mu;K"],["2.0 &mu;K"]]
    var temps2 = [0,0.5,1.0,2]
    // Plot the T = 0 K curve
    var placeholder = $("#negativeLi7");
    var long_space = "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"
    var plot_struct = [
            {
                //Draw experimental points
                label:"\\(^7\\text{Li data}\\)",
                label:"<p>&nbsp;<sup>7</sup>Li [1] @ 1.5 &mu;K</p>",
                color:"#C080FF",
                data:alpha_rec_li7_neg,
                points:{
                    show:true,
                }
            },
            {
                color:col1,
                label:"<p>" + long_space + "T = 0.0 &mu;K</p>",
                data:data[0],
            }
        ];
    $.plot(placeholder, plot_struct, options);

    function decrease_tempLi7(){
        plot_struct.push({});
        plot_struct.push({});
        plot_struct.push({});
        var col_a = colorLerp(col1, col2, (1)/(data.length-1));
        var col_b = colorLerp(col1, col2, (2)/(data.length-1));
        var col_c = colorLerp(col1, col2, (3)/(data.length-1));
        // N is the number of substeps taken to perform the animation
        // The animation take a total of 1000 ms
        var i = 0, N = 41, animate_time = 1000;
        var interval = setInterval(function(){
            // Recreating the temporary array from scratch over and over
            // is hardly efficient, but it works just fine
            var dat1 = [], dat2 = [], dat3 = [];
            for(var k = 0;k<data[0].length;++k){
                var x  = data[0][k][0];
                var y0 = data[0][k][1];
                var y1 = data[1][k][1];
                var y2 = data[2][k][1];
                var y3 = data[3][k][1];
                // Linearly interpolate between the two dataseries
                // Note, however, that since the data is plotted on a
                // logarithmic scale it is better to interpolate the
                // logarithms of the y-values.
                var yf = Math.pow(y0,(N-1-i)/(N-1))
                y1 = Math.pow(y1,i/(N-1))*yf;
                y2 = Math.pow(y2,i/(N-1))*yf;
                y3 = Math.pow(y3,i/(N-1))*yf;
                dat1.push([x,y1]);
                dat2.push([x,y2]);
                dat3.push([x,y3]);
            }
            var pl1 = {
                color:colorLerp(col1,col_a,i/(N-1)),
                label:"<p>" + long_space + "T = " + temps[1] + "</p>",
                data:dat1,
            }
            var pl2 = {
                color:colorLerp(col1,col_b,i/(N-1)),
                label:"<p>" + long_space + "T = " + temps[2] + "</p>",
                data:dat2,
            }
            var pl3 = {
                color:colorLerp(col1,col_c,i/(N-1)),
                label:"<p>" + long_space + "T = " + temps[3] + "</p>",
                data:dat3,
            }
            plot_struct[2] = pl1
            plot_struct[3] = pl2
            plot_struct[4] = pl3
            $.plot(placeholder, plot_struct, options);
            ++i;
            // Stop the animation
            if(i === N){
                clearInterval(interval);
            }
        },animate_time/(N-1))
    }
    $("#decrease_temp1Li7").on("impress:substep-enter",decrease_tempLi7);
});
